<div fxLayoutAlign="center center">
  <a [routerLink]="'/contacts'">
    <mat-icon>arrow_back</mat-icon>
  </a>
  <h1> Add new contact </h1>
</div>

<mat-card class="form-card" [@flyInOut]>
  <form class="flex-column" [formGroup]="contactForm" (ngSubmit)="contactSubmit()">
    <mat-form-field>
      <input matInput placeholder="First Name" formControlName="firstName">
      <mat-error>
        <span *ngIf="!contactForm.get('firstName').valid && contactForm.get('firstName').touched">First Name required</span>
      </mat-error>
    </mat-form-field>

    <mat-form-field>
      <input matInput placeholder="Last Name" formControlName="lastName">
      <mat-error>
        <span *ngIf="!contactForm.get('lastName').valid && contactForm.get('lastName').touched">Last Name required</span>
      </mat-error>
    </mat-form-field>

    <mat-form-field>
      <input matInput placeholder="Email" formControlName="email">
      <mat-error>
        <span *ngIf="!contactForm.get('email').valid && contactForm.get('email').touched">Please enter a valid email</span>
      </mat-error>
    </mat-form-field>

    <mat-form-field>
      <input matInput
             placeholder="Country"
             [matAutocomplete]="auto"
             formControlName="country">
      <mat-autocomplete #auto="matAutocomplete">
        <mat-option *ngFor="let country of countryListFiltered | async" [value]="country">
          <span>{{country}}</span>
        </mat-option>
      </mat-autocomplete>
      <mat-error>
        <span *ngIf="!contactForm.get('country').valid && contactForm.get('country').touched">Please select a country</span>
      </mat-error>
    </mat-form-field>

    <button type="submit" [disabled]="!contactForm.valid" mat-flat-button color="primary" class="align-self-end">
      <mat-icon>person_add</mat-icon>
    </button>
  </form>

</mat-card>
